{
    "size": 10,
    "sort": ["_score",
             {"start_time": "desc"}],
    "query": {
        "bool": {
            "filter": [
                {"range": {"log_level": {"gte": 40000}}},
                {"exists": {"field": "issue_type"}},
                {"term": {"is_merged": false}}
            ],
            "must_not": [
                {"wildcard": {"issue_type": "TI*"}},
                {"wildcard": {"issue_type": "ti*"}},
                {"wildcard": {"issue_type": "nd*"}},
                {"wildcard": {"issue_type": "ND*"}},
                {"term": {"test_item": "123"}}
            ],
            "must": [
                {"more_like_this": {
                    "fields":               ["detected_message_extended"],
                    "like":                 "hello world 'sdf'",
                    "min_doc_freq":         1,
                    "min_term_freq":        1,
                    "minimum_should_match": "5<60%",
                    "max_query_terms":      50,
                    "boost":                4.0
                }},
                {"more_like_this": {
                    "fields":               ["stacktrace_extended"],
                    "like":                 "invoke.method(arg)",
                    "min_doc_freq":         1,
                    "min_term_freq":        1,
                    "minimum_should_match": "5<60%",
                    "max_query_terms":      50,
                    "boost":                2.0
                }}
            ],
            "should": [
                {"term": {
                    "unique_id": {
                        "value": "unique",
                        "boost": 3
                    }
                }},
                {"term": {
                    "test_case_hash": {
                        "value": 1,
                        "boost": 3
                    }
                }},
                {"term": {
                    "is_auto_analyzed": {
                        "value": "false",
                        "boost": 10
                    }
                }},
                {"term": {
                    "launch_name": {
                        "value": "Launch name",
                        "boost": 5
                    }
                }},
                {"more_like_this": {
                    "fields":               ["merged_small_logs"],
                    "like":                 "",
                    "min_doc_freq":         1,
                    "min_term_freq":        1,
                    "minimum_should_match": "5<80%",
                    "max_query_terms":      50,
                    "boost":                0.5
                }},
                {"more_like_this": {
                    "fields":               ["only_numbers"],
                    "like":                 "1",
                    "min_doc_freq":         1,
                    "min_term_freq":        1,
                    "minimum_should_match": "1",
                    "max_query_terms":      50,
                    "boost":                4.0
                }},
                {"more_like_this": {
                    "fields":               ["message_params"],
                    "like":                 "sdf",
                    "min_doc_freq":         1,
                    "min_term_freq":        1,
                    "minimum_should_match": "1",
                    "max_query_terms":      50,
                    "boost":                4.0
                }},
                {"more_like_this": {
                    "fields":               ["urls"],
                    "like":                 "",
                    "min_doc_freq":         1,
                    "min_term_freq":        1,
                    "minimum_should_match": "1",
                    "max_query_terms":      50,
                    "boost":                4.0
                }},
                {"more_like_this": {
                    "fields":               ["paths"],
                    "like":                 "",
                    "min_doc_freq":         1,
                    "min_term_freq":        1,
                    "minimum_should_match": "1",
                    "max_query_terms":      50,
                    "boost":                4.0
                }},
                {"more_like_this": {
                    "fields":               ["found_exceptions_extended"],
                    "like":                 "AssertionError",
                    "min_doc_freq":         1,
                    "min_term_freq":        1,
                    "minimum_should_match": "1",
                    "max_query_terms":      50,
                    "boost":                4.0
                }},
                {"more_like_this": {
                    "fields":               ["potential_status_codes"],
                    "like":                 "",
                    "min_doc_freq":         1,
                    "min_term_freq":        1,
                    "minimum_should_match": "1",
                    "max_query_terms":      50,
                    "boost":                4.0
                }}
            ]
        }
    }
}