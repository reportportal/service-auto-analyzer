{
    "size": 10,
    "sort": ["_score",
             {"start_time": "desc"}],
    "query": {
        "function_score": {
            "query": {
                "bool": {
                    "filter": [
                        {"range": {"log_level": {"gte": 40000}}},
                        {"exists": {"field": "issue_type"}},
                        {"term": {"is_merged": true}}
                    ],
                    "must_not": [
                        {"term": {"issue_type": "ti001"}},
                        {"term": {"test_item": "123"}},
                        {"wildcard": {"message": "*"}}
                    ],
                    "must": [
                        {"more_like_this": {
                            "fields":               ["merged_small_logs"],
                            "like":                 "hello world",
                            "min_doc_freq":         1,
                            "min_term_freq":        1,
                            "minimum_should_match": "5<80%",
                            "max_query_terms":      50,
                            "boost":                2.0
                        }}
                    ],
                    "should": [
                        {"term": {
                            "unique_id": {
                                "value": "unique",
                                "boost": 3
                            }
                        }},
                        {"term": {
                            "test_case_hash": {
                                "value": 1,
                                "boost": 3
                            }
                        }},
                        {"term": {
                            "is_auto_analyzed": {
                                "value": "false",
                                "boost": 10
                            }
                        }},
                        {"term": {
                            "launch_name": {
                                "value": "Launch name",
                                "boost": 5
                            }
                        }},
                        {"more_like_this": {
                            "fields":               ["detected_message_without_params_extended"],
                            "like":                 "hello world",
                            "min_doc_freq":         1,
                            "min_term_freq":        1,
                            "minimum_should_match": "1",
                            "max_query_terms":      50,
                            "boost":                2.0
                        }},
                        {"more_like_this": {
                            "fields":               ["found_exceptions_extended"],
                            "like":                 "AssertionError",
                            "min_doc_freq":         1,
                            "min_term_freq":        1,
                            "minimum_should_match": "1",
                            "max_query_terms":      50,
                            "boost":                8.0
                        }},
                        {"more_like_this": {
                            "fields":               ["potential_status_codes"],
                            "like":                 "200 400",
                            "min_doc_freq":         1,
                            "min_term_freq":        1,
                            "minimum_should_match": "1",
                            "max_query_terms":      50,
                            "boost":                8.0
                        }},
                        {"more_like_this": {
                            "fields":               ["found_tests_and_methods"],
                            "like":                 "FindAllMessagesTest.findMessage",
                            "min_doc_freq":         1,
                            "min_term_freq":        1,
                            "minimum_should_match": "1",
                            "max_query_terms":      50,
                            "boost":                2.0
                        }},
                        {"more_like_this": {
                            "fields":               ["test_item_name"],
                            "like":                 "test item Common Query",
                            "min_doc_freq":         1,
                            "min_term_freq":        1,
                            "minimum_should_match": "1",
                            "max_query_terms":      50,
                            "boost":                2.0
                        }}
                    ]
                }
            },
            "functions": [
                {
                    "exp": {
                        "start_time": {
                            "origin": "2021-08-30 08:11:23",
                            "scale": "7d",
                            "offset": "7d",
                            "decay": 0.95
                        }
                    }
                },
                {
                    "script_score": {"script": {"source": "0.6"}}
                }],
            "score_mode": "max",
            "boost_mode": "multiply"
        }
    }
}